{
  "title": "Business Rules",
  "type": "array",
  "items": {
    "title": "Business Rule",
    "type": "object",
    "properties": {
      "rules": {
        "title": "rule",
        "type": "object",
        "oneOf": [
          { "$ref": "#/definitions/datatype" },
          { "$ref": "#/definitions/valuerange" },
          { "$ref": "#/definitions/knownvalues"},
          { "$ref": "#/definitions/dateformatcheck"},
          { "$ref": "#/definitions/relativedate"}
        ]
      }
    }
  },
  "default": {
    "rules": "#/definitions/datatype"
  },
  "definitions": {
    "datatype": {
      "title": "Data Type",
      "type": "object",
      "properties": {
        "rule": { "type": "string", "enum": [ "dataType"], "default": "dataType", "readOnly": true },
        "column": {"type": "string" },
        "typeofdata": { "type": "string", "enum": [ "string", "integer", "floating point number", "boolean" ] }
      },
      "required": [ "rule", "column", "typeofdata" ],
      "additionalProperties": false
    },
    "valuerange": {
      "title": "Value Range",
      "type": "object",
      "properties": {
        "rule": { "type": "string", "enum": [ "valueRange"], "default": "valueRange", "readOnly": true },
        "column": { "type": "string" },
        "minValue": { "type": "integer" },
        "maxValue": { "type": "integer" }
      },
      "required": [ "rule", "column", "minValue", "maxValue" ],
      "additionalProperties": false
    },
    "knownvalues": {
      "title": "Known Values",
      "type": "object",
      "properties": {
        "rule": { "type": "string", "enum": [ "knownValues"], "default": "knownValues", "readOnly": true },
        "column": { "type": "string" },
        "values": {
          "type": "array",
          "title": "Known Values",
          "uniqueItems": true,
          "items": {
            "type": "object",
            "title": "Value",
            "properties": {
              "name": {
                "type": "string"
              }
            }
          }
        }
      },
      "required": [ "rule", "column", "values" ],
      "additionalProperties": false
    },
    "dateformatcheck": {
      "title": "Date Format",
      "type": "object",
      "properties": {
        "rule": { "type": "string", "enum": [ "dateFormatCheck"], "default": "dateFormatCheck", "readOnly": true },
        "column": { "type": "string" },
        "timeFormat": {
            "title": "Choose time format",
            "type": "string",
            "enum": ["YYYY-MM-DD","YYYYMMDD", "YYYY-MM", "MM/DD/YYYY", "DD/MM/YYYY", "YYYY", "hh:mm:ss"]}
        },
      "required": [ "rule", "column", "timeFormat" ],
      "additionalProperties": false

    },
    "relativedate": {
        "title": "Relative Date",
        "type": "object",
        "properties": {
          "rule": { "type": "string", "enum": [ "RelativeDate"], "default": "relativeDate", "readOnly": true },
          "column": { "type": "string" },
          "timeFormat": {
              "title": "Choose time format",
              "type": "string",
              "enum": ["YYYY-MM-DD","YYYYMMDD", "YYYY-MM", "MM/DD/YYYY", "DD/MM/YYYY", "YYYY"]},
          "datePicked": {"type": "string"},
          "direction": {
            "title": "Choose the direction",
            "type": "string",
            "enum": ["past","future"]}
        },
        "required": [ "rule", "column", "timeFormat", "datePicked", "direction"],
        "additionalProperties": false
      }
  }
}
