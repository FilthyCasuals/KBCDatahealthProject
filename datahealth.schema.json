{
  "title": "Business Rules",
  "type": "array",
  "items": {
    "title": "Business Rule",
    "type": "object",
    "properties": {
      "rules": {
        "title": "rule",
        "type": "object",
        "oneOf": [
          { "$ref": "#/definitions/datatype" },
          { "$ref": "#/definitions/valuerange" },
          { "$ref": "#/definitions/knownvalues"},
          { "$ref": "#/definitions/dateformatcheck"},
          { "$ref": "#/definitions/relativedate"},
          { "$ref": "#/definitions/nullempty"},
		  { "$ref": "#/definitions/stringlength"}
        ]
      }
    }
  },
  "default": {
    "rules": "#/definitions/datatype"
  },
  "definitions": {
    "datatype": {
      "title": "Data Type",
      "type": "object",
      "properties": {
        "rule": { "type": "string", "enum": [ "dataType"], "default": "dataType", "readOnly": true },
        "column": {"type": "string" },
        "typeofdata": { "type": "string", "enum": [ "string", "integer", "decimal number", "date" ] }
      },
      "required": [ "rule", "column", "typeofdata" ],
      "additionalProperties": false
    },
    "valuerange": {
      "title": "Value Range",
      "type": "object",
      "properties": {
        "rule": { "type": "string", "enum": [ "valueRange"], "default": "valueRange", "readOnly": true },
        "column": { "type": "string" },
        "minValue": { "type": "integer" },
        "maxValue": { "type": "integer" }
      },
      "required": [ "rule", "column", "minValue", "maxValue" ],
      "additionalProperties": false
    },
    "knownvalues": {
      "title": "Known Values",
      "type": "object",
      "properties": {
        "rule": { "type": "string", "enum": [ "knownValues"], "default": "knownValues", "readOnly": true },
        "column": { "type": "string" },
        "values": {
          "type": "array",
          "title": "Known Values",
          "uniqueItems": true,
          "items": {
            "type": "object",
            "title": "Value",
            "properties": {
              "name": {
                "type": "string"
              }
            }
          }
        }
      },
      "required": [ "rule", "column", "values" ],
      "additionalProperties": false
    },
    "dateformatcheck": {
      "title": "Date Format",
      "type": "object",
      "properties": {
        "rule": { "type": "string", "enum": [ "dateFormatCheck"], "default": "dateFormatCheck", "readOnly": true },
        "column": { "type": "string" },
        "timeFormat": {
            "title": "Choose time format",
            "type": "string",
            "enum": ["YYYY-MM-DD","YYYYMMDD", "YYYY-MM", "MM/DD/YYYY", "DD/MM/YYYY", "YYYY", "hh:mm:ss"]}
        },
      "required": [ "rule", "column", "timeFormat" ],
      "additionalProperties": false

    },
    "relativedate": {
        "title": "Relative Date",
        "type": "object",
        "properties": {
          "rule": { "type": "string", "enum": [ "relativeDate"], "default": "relativeDate", "readOnly": true },
          "column": { "type": "string" },
          "timeFormat": {
              "title": "Choose time format",
              "type": "string",
              "enum": ["YYYY-MM-DD","YYYYMMDD", "YYYY-MM", "MM/DD/YYYY", "DD/MM/YYYY", "YYYY"]},
          "datePicked": {"type": "string"},
          "direction": {
            "title": "Choose the direction",
            "type": "string",
            "enum": ["past","future"]}
        },
        "required": [ "rule", "column", "timeFormat", "datePicked", "direction"],
        "additionalProperties": false
      },
    "nullempty": {
      "title": "Null Empty Check",
      "type": "object",
      "properties": {
        "rule": { "type": "string", "enum": [ "nullEmptyCheck"], "default": "nullEmptyCheck", "readOnly": true },
        "column": { "type": "string" }
		
      },
      "required": [ "rule", "column"],
      "additionalProperties": false
    },
	"stringlength": {
      "title": "String Length",
	  "type": "object",
	  "properties": {
        "rule": { "type": "string", "enum": [ "stringLength"], "default": "stringLength", "readOnly": true },
        "column": { "type": "string" },
		"rules": {
			"title": "options",
			"type": "object",
			"oneOf": [
			  { "$ref": "#/definitions/exactlength" },
			  { "$ref": "#/definitions/lengthrange" }
			]
		  }
      },
		"required": [ "rule", "column"],
		"additionalProperties": false
	},
	"exactlength": {
      "title": "exact length",
      "type": "object",
      "properties": {
        "exact length": { "type": "integer" }
      },
      "required": [ "exact length"],
      "additionalProperties": false
    },
	"lengthrange": {
      "title": "Range of length",
      "type": "object",
      "properties": {
        "Minimum length": { "type": "integer" },
		"Maximum length": { "type": "integer" }
      },
      "required": [ "Minimum length", "Maximum length"],
      "additionalProperties": false
    }
  }
}
